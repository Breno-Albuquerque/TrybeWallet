(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{32:function(e,t,n){e.exports=n(53)},37:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(18),i=n.n(l),c=n(21),o=(n(37),n(9)),s=n(7),u=n(8),d=n(11),m=n(10),p=n(2),h=n(15),E=n(16),b=n.n(E),f=n(19),v=n(3),g=function(e,t){return{type:"ADD_EXPENSE",payload:Object(v.a)(Object(v.a)({},e),{},{exchangeRates:Object(v.a)({},t)})}},j=(n(43),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",isDisabled:!0},e.handleChange=function(t){var n=t.target,a=n.value,r=n.name;e.setState(Object(h.a)({},r,a),(function(){return e.handleDisable()}))},e.handleClick=function(){var t=e.props,n=t.history;(0,t.saveEmail)(e.state.email),n.push("/carteira")},e.handleDisable=function(){var t=e.state,n=t.email,a=t.password;e.validPassword(a)&&e.validEmail(n)?e.setState({isDisabled:!1}):e.setState({isDisabled:!0})},e.validPassword=function(e){return e.length>=6},e.validEmail=function(e){return!(!e.endsWith(".com")||!e.includes("@"))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.isDisabled;return r.a.createElement("main",{className:"login-main"},r.a.createElement("div",{className:"content-container"},r.a.createElement("h1",{className:"login-title"},"WALLET"),r.a.createElement("form",{className:"login-form"},r.a.createElement("label",{htmlFor:"email-input",className:"login-label"},r.a.createElement("input",{autoComplete:"off",className:"login-input",placeholder:'Email: "alguem@email.com"',name:"email",onChange:this.handleChange,id:"email-input","data-testid":"email-input",type:"email"})),r.a.createElement("label",{htmlFor:"password-input",className:"login-label"},r.a.createElement("input",{autoComplete:"off",className:"login-input",placeholder:"Senha: 6 d\xedgitos",name:"password",onChange:this.handleChange,id:"password-input","data-testid":"password-input",type:"password"})),r.a.createElement("button",{className:e?"login-button-disabled":"login-button-enabled",disabled:e,onClick:this.handleClick,type:"button"},"Entrar"))))}}]),n}(r.a.Component)),x=Object(o.b)(null,(function(e){return{saveEmail:function(t){return e(function(e){return{type:"EMAIL",email:e}}(t))}}}))(j),O=(n(44),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleSum=function(){var t=e.props.expenses;return t.length>0?t.reduce((function(e,t){var n=t.value,a=t.exchangeRates[t.currency].ask;return e+Number(a)*Number(n)}),0).toFixed(2):(0).toFixed(2)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.userEmail;return r.a.createElement("header",null,r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",null,"TRYBE WALLET")),r.a.createElement("div",{className:"infos-div","data-testid":"email-field"},r.a.createElement("span",null,"Email:")," ",e),r.a.createElement("div",{className:"infos-div","data-testid":"total-field"},r.a.createElement("span",null,"Despesa Total:")," ","R$ ",this.handleSum()),r.a.createElement("div",{className:"infos-div","data-testid":"header-currency-field"},r.a.createElement("span",null,"BRL")))}}]),n}(r.a.Component)),y=Object(o.b)((function(e){return{userEmail:e.user.email,expenses:e.wallet.expenses}}),null)(O),C=(n(45),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e.handleChange=function(t){var n=t.target,a=n.value,r=n.name;e.setState(Object(h.a)({},r,a))},e.handleClick=function(){var t=e.props,n=t.saveExpense,a=t.edit,r=t.isEditing,l=t.editingIndex;r?a(e.state,l):(n(e.state),e.setState({value:""}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.value,t=this.props,n=t.currencies,a=t.isEditing;return r.a.createElement("div",{className:"div-form-container"},r.a.createElement("form",{className:"main-form"},r.a.createElement("label",{className:"input-label",htmlFor:"value-input"}," ","Valor:"," "," ",r.a.createElement("input",{value:e,name:"value",onChange:this.handleChange,id:"value-input","data-testid":"value-input",autoComplete:"off"})),r.a.createElement("label",{className:"input-label",htmlFor:"description-input"}," ","Descri\xe7\xe3o:"," "," ",r.a.createElement("input",{name:"description",onChange:this.handleChange,id:"description-input","data-testid":"description-input",autoComplete:"off"})),r.a.createElement("label",{className:"select-label",htmlFor:"currency-input"}," ","Moeda"," "," ",r.a.createElement("select",{name:"currency",onChange:this.handleChange,id:"currency-input","data-testid":"currency-input"},n.map((function(e){return r.a.createElement("option",{"data-testid":e,key:e},e)})))),r.a.createElement("label",{className:"select-label",htmlFor:"method-input"}," ","M\xe9todo de pagamento:"," "," ",r.a.createElement("select",{name:"method",onChange:this.handleChange,id:"method-input","data-testid":"method-input"},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag-input",className:"select-label"}," ","Categoria:"," "," ",r.a.createElement("select",{name:"tag",onChange:this.handleChange,"data-testid":"tag-input",id:"tag-input"},r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Sa\xfade"))),r.a.createElement("button",{className:a?"form-edit-button":"form-add-button",onClick:this.handleClick,type:"button"},a?"Editar despesa":"Adicionar despesa")))}}]),n}(r.a.Component)),N=Object(o.b)((function(e){return{expensesArr:e.wallet.expenses,isEditing:e.wallet.isEditing,editingIndex:e.wallet.editingIndex,currencies:e.wallet.currencies}}),(function(e){return{saveExpense:function(t){return e(function(e){return function(){var t=Object(f.a)(b.a.mark((function t(n){var a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return a=t.sent,t.next=5,a.json();case 5:r=t.sent,n(g(e,r));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},edit:function(t,n){return e(function(e,t){return{type:"EDIT_EXPENSE",payload:{expenseData:e,index:t}}}(t,n))}}}))(C),w=(n(46),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleEditButton=function(t){(0,e.props.enterEditMode)(t)},e.handleDeleteButton=function(t){(0,e.props.removeExpense)(t)},e.getCoinName=function(e){return e.exchangeRates[e.currency].name},e.getExchangeValue=function(e){var t=e.exchangeRates[e.currency].ask;return Number(t).toFixed(2)},e.getConvertedValue=function(e){var t=e.exchangeRates,n=e.currency,a=e.value,r=t[n].ask;return(Number(r)*Number(a)).toFixed(2)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.expenses;return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",null,r.a.createElement("tr",{className:"tr-of-th"},r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",{className:"coin-td"},"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir")),t.map((function(t,n){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,Number(t.value).toFixed(2)),r.a.createElement("td",{className:"coin-td"},e.getCoinName(t)),r.a.createElement("td",null,e.getExchangeValue(t)),r.a.createElement("td",null,e.getConvertedValue(t)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{className:"table-edit-button",type:"button","data-testid":"edit-btn",onClick:function(){return e.handleEditButton(n)}},"!"),r.a.createElement("button",{className:"table-delete-button",type:"button","data-testid":"delete-btn",onClick:function(){return e.handleDeleteButton(n)}},"X")))}))))}}]),n}(r.a.Component)),D=Object(o.b)((function(e){return{expenses:e.wallet.expenses,isEditing:e.wallet.isEditing}}),(function(e){return{removeExpense:function(t){return e(function(e){return{type:"DELETE_EXPENSE",expenseIndex:e}}(t))},enterEditMode:function(t){return e(function(e){return{type:"EDIT_MODE",editingIndex:e}}(t))}}}))(w),k=(n(47),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,n,a,r,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.saveCurrenciesList,e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return n=e.sent,e.next=6,n.json();case 6:delete(a=e.sent).USDT,r=Object.values(a),l=r.map((function(e){return e.code})),t(l);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("main",{className:"wallet-container"},r.a.createElement(y,null),r.a.createElement("div",{className:"tableAndForm-components-container"},r.a.createElement(N,null),r.a.createElement(D,null)))}}]),n}(r.a.Component)),S=Object(o.b)(null,(function(e){return{saveCurrenciesList:function(t){return e(function(e){return{type:"ADD_CURRENCIES",currencies:e}}(t))}}}))(k),I=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:x}),r.a.createElement(p.a,{path:"/carteira",component:S}))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(13),R=n(29),T=n(30),F={email:""},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMAIL":return Object(v.a)(Object(v.a)({},e),{},{email:t.email});default:return e}},L=n(31),_={currencies:[],expenses:[],isEditing:!1,editingIndex:""},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CURRENCIES":return Object(v.a)(Object(v.a)({},e),{},{currencies:t.currencies});case"ADD_EXPENSE":return Object(v.a)(Object(v.a)({},e),{},{expenses:[].concat(Object(L.a)(e.expenses),[Object(v.a)({id:e.expenses.length},t.payload)])});case"EDIT_MODE":return Object(v.a)(Object(v.a)({},e),{},{isEditing:!0,editingIndex:t.editingIndex});case"EDIT_EXPENSE":return Object(v.a)(Object(v.a)({},e),{},{isEditing:!1,expenses:e.expenses.map((function(e,n){return n===t.payload.index?Object(v.a)(Object(v.a)({id:e.id},t.payload.expenseData),{},{exchangeRates:e.exchangeRates}):e}))});case"DELETE_EXPENSE":return Object(v.a)(Object(v.a)({},e),{},{expenses:e.expenses.filter((function(e,n){return n!==t.expenseIndex}))});default:return e}},P=Object(A.combineReducers)({user:M,wallet:B}),V=Object(A.createStore)(P,Object(R.composeWithDevTools)(Object(A.applyMiddleware)(T.a)));i.a.render(r.a.createElement(c.a,null,r.a.createElement(o.a,{store:V},r.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.be1764d1.chunk.js.map